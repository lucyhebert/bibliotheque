doctype html
html(lang="en")

head
    title Bibliothèque

    style
        include css/datepicker.css
        include css/normalize.css

    script(src="https://code.jquery.com/jquery-1.12.4.js")
    script(src="https://code.jquery.com/ui/1.12.1/jquery-ui.js")
    script
        include ../datepicker.js

body

    form(action='/bibliotheque/new', method='POST')
        h1 Nouveau livre
        input(type="text", name="isbn", placeholder="ISBN")
        input(type="text", name="titre", placeholder="Titre")
        input(type="text", name="auteurs", placeholder="Noms auteurs (séparés par des virgules, nom et prénom séparés par des espaces)")
        input(type="text", name="date_achat", placeholder="Date d'achat", id="datepicker")
        input(type="text", name="catégories", placeholder="Catégories (séparées par des virgules)")
        br
        input(type="submit", value="Ajouter")

    h1 Liste des livres

    table
        tr
            th ISBN
            th Titre
            th Nom auteur
            th Date d'achat
            th Catégories
            each livre in liste_livres
                tr
                    td
                        input(type="text" value=livre.isbn readonly)
                    td
                        input(type="text" value=livre.titre readonly)
                    td
                        textarea(readonly rows=livre.auteurs.length)
                            each auteur in livre.auteurs
                                | #{auteur}
                                |
                    td
                        // TODO : format date
                        input(type="text" value=livre.date_achat readonly)
                    td
                        textarea(readonly rows=livre.catégories.length)
                            each categorie in livre.catégories
                                | #{categorie}
                                |